function shopVoucherBtnInfoReady(a,b,c,d){$(document).on("click",".voucherUnavailableBtn",function(){swal(a,{icon:"warning"})}),$(document).on("click",".voucherSelectBtn",function(){var j=$(this).closest(".shop-voucher-selection").find(".shop-voucher-select-button button"),g=$(this),k=$(this).closest(".bottom-modal-wrapper"),l=$(this).text(),e=$(this).closest(".bottom-modal-wrapper"),f=$(this).closest(".shop-voucher-select"),h=f.data("id"),i=f.data("code");if(e.data("requestRunning"))return!1;g.text("Loading..."),e.data("requestRunning",!0);var a=new FormData;a.append("voucher_id",h),a.append("voucher_code",i),$.ajax({contentType:!1,processData:!1,type:"POST",data:a,url:"/assets/tools/select_voucher.php",success:function(a){var f=JSON.parse(a);g.text(l),$(b).each(function(h){var i=$(b).length-1,l=$(this),a=l.attr("id");$("#"+a).load(location.href+" #"+a+">*"),i==h&&(e.data("requestRunning",!1),1==f.passcheck?swal(f.msg,{icon:"success"}).then(function(){j.each(function(a){$(this).hasClass("voucherAppliedBtn")&&($(this).addClass("voucherSelectBtn"),$(this).removeClass("voucherAppliedBtn"),$(this).text(c)),j.length==a+1&&(g.addClass("voucherAppliedBtn"),g.text(d))}),hideBtmModal(k,"#mask-overlay")}):swal(f.msg,{icon:"warning"}))})},error:function(){swal("ERROR",{icon:"warning"}),g.text(l)}})})}