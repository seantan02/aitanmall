function openCart(){$("#cart").addClass("open"),openMaskOverlay()}function closeCart(){$("#cart").removeClass("open"),closeMaskOverlay()}$(document).ready(function(){$(document).on("click",".cartBtn",function(){openCart()}),$(document).on("click",".cartCloseBtn",function(){closeCart()})}),$(document).ready(function(){$(document).on("click",".add-to-cart",function(){var t=$(this),e=t.data("target"),a=t.data("targettype"),n=!0;$(e+" input").each(function(){var t=$(this).data("name"),a=$(this).data("classname"),r=$(this).data("type");if(void 0!==a&""!=a){var c=$(e+" ."+a);"modal"==r||(c.removeClass("red-border"),c.find(".reminder").remove())}if(""==$(this).val()){alert(inValidReasonMessage=t+" was not choosen.");var c=$(e+" ."+a);return"modal"==r?(c.closest("modal").modal("show"),n=!1):($("html, body").animate({scrollTop:c.offset().top},1e3),c.addClass("red-border"),c.prepend("<span class='reminder'>"+inValidReasonMessage+"</span>"),n=!1),!1}}),$(e+" select").each(function(){var t=$(this).data("name"),a=$(this).data("classname");if(void 0!==a&""!=a){var r=$(e+" ."+a);r.removeClass("red-border"),r.find(".reminder").remove()}if(""==$(this).find("option:selected").val())return alert(inValidReasonMessage=t+" was not choosen."),$("html, body").animate({scrollTop:r.offset().top},1e3),r.addClass("red-border"),r.prepend("<span class='reminder'>"+inValidReasonMessage+"</span>"),n=!1,!1});var r=new FormData($(e)[0]);if(t.data("requestRunning")&&(alert(inValidReasonMessage="Request is being processed"),n=!1),!0!=n)return!1;t.data("requestRunning",!0),showLoader(),$.ajax({url:"/api/guest_add_to_cart",type:"POST",data:r,processData:!1,contentType:!1,dataType:"json",success:function(t){1==t.passcheck?($("#cart").load(location.href+" #cart>*"),closeCart(),openCart()):4==t.passcheck&&(alert(t.msg),window.location.href=t.redirect)},error:function(t){console.log(t)},complete:function(){t.data("requestRunning",!1),hideLoader()}}).then(function(){fbq("track","AddToCart"),ttq.track("AddToCart"),"recommendedModal"==a?$("#productRecommendModal").modal("hide"):$("#productRecommendModal").length&&$("#productRecommendModal").modal("show")})}),$(document).on("click",".increase-cart-quantity-btn",function(){var t=$(this),e=t.data("id"),a=t.closest(".cart-content").attr("id"),n=new FormData;n.append("cart_item_id",e),n.append("quantity",1),n.append("action","increaseCartItemQuantity"),t.data("requestRunning")&&(isValid=!1,inValidReasonMessage="Request is being processed"),showLoader(),t.data("requestRunning",!0),$.ajax({url:"/api/guest_update_cart_item",type:"POST",data:n,processData:!1,contentType:!1,dataType:"json",success:function(t){1==t.passcheck?$("#"+a).load(location.href+" #"+a+">*"):4==t.passcheck&&(alert(t.msg),window.location.href=t.redirect)},error:function(t){alert(t)},complete:function(){fbq("track","Increase Cart Item"),t.data("requestRunning",!1),hideLoader()}})}),$(document).on("click",".decrease-cart-quantity-btn",function(){var t=$(this),e=t.data("id"),a=t.closest(".cart-content").attr("id"),n=new FormData;n.append("cart_item_id",e),n.append("quantity",1),n.append("action","decreaseCartItemQuantity"),t.data("requestRunning")&&(isValid=!1,inValidReasonMessage="Request is being processed"),showLoader(),t.data("requestRunning",!0),$.ajax({url:"/api/guest_update_cart_item",type:"POST",data:n,processData:!1,contentType:!1,dataType:"json",success:function(t){1==t.passcheck?$("#"+a).load(location.href+" #"+a+">*"):4==t.passcheck&&(alert(t.msg),window.location.href=t.redirect)},error:function(t){alert(t)},complete:function(){fbq("track","Decrease Cart Item"),t.data("requestRunning",!1),hideLoader()}})}),$(document).on("click",".remove-cart-quantity-btn",function(){var t=$(this),e=t.data("id"),a=t.closest(".cart-content").attr("id"),n=t.closest(".cart-item-body").find(".cart-item-quantity").val(),r=new FormData;r.append("cart_item_id",e),r.append("quantity",n),r.append("action","decreaseCartItemQuantity"),t.data("requestRunning")&&(isValid=!1,inValidReasonMessage="Request is being processed"),showLoader(),t.data("requestRunning",!0),$.ajax({url:"/api/guest_update_cart_item",type:"POST",data:r,processData:!1,contentType:!1,dataType:"json",success:function(t){1==t.passcheck?$("#"+a).load(location.href+" #"+a+">*"):4==t.passcheck&&(alert(t.msg),window.location.href=t.redirect)},error:function(t){alert(t)},complete:function(){t.data("requestRunning",!1),hideLoader()}})})});