function onSubmit(e){$("#login-user-form").submit()}function onClick(e){e.preventDefault(),grecaptcha.ready((function(){grecaptcha.execute("6Le5uQwkAAAAAGwbjfaxng7WdTXGRlviqS_NIbXW",{action:"submit"}).then((function(e){$("#g-recaptcha-response").val(e)}))}))}$(document).ready((function(){$.ajax({contentType:!1,processData:!1,type:"POST",url:"/api/remove_user_temporarily_key",dataType:"json"}),hideLoader(),$(document).on("submit","#login-user-form",(function(e){showLoader(),e.preventDefault();var n=$(this),a=n.closest("#login-user-form"),t=n.closest("#login-user-form").find("#g-recaptcha-response").val();if(0==t.length)return alert("You are a bot"),!1;if(n.data("requestRunning"))return!1;n.data("requestRunning",!0);var r=a.find("input[name='email']"),o=a.find("input[name='phone-number']"),i=a.find("input[name='password']"),s=r.val(),u=o.val(),d=i.val();if((s.length>0&&/^[A-Z0-9._%+-]+@([A-Z0-9-]+\.)+[A-Z]{2,4}$/i.test(s)||u.length>0&&$.isNumeric(u))&&d.length>0){var p=new FormData;p.append("email",s),p.append("phone_number",u),p.append("password",d),p.append("g-response",t),$.ajax({contentType:!1,processData:!1,type:"POST",url:"/api/log_in_user",dataType:"json",data:p,success:function(e){var a=e;1==a.passcheck?($("body").trigger("sendTemporarilyKeyRequest",[a.temporarily_key,a.user_id]),setTimeout((function(){}),5e3),window.location.href="/"):(swal({title:"Opps",text:a.msg,icon:"error",buttons:!0}),n.data("requestRunning",!1),hideLoader())},error:function(){swal({title:"Server Error",text:"Please refresh and reload the page",icon:"error",buttons:!0}),n.data("requestRunning",!1),hideLoader()}})}else swal({title:"Username or password invalid",text:"Please ensure username is in valid form, and password is filled.",icon:"error",buttons:!0}),n.data("requestRunning",!1),hideLoader()})),$(document).on("click","#login-user-form .change-username-btn",(function(){var e=$(this),n=$("."+e.data("target")),a=n.find("input"),t=e.closest(".form-input"),r=t.find("input");r.attr("required",!1),r.val(""),a.attr("required",!0),t.addClass("hide"),n.removeClass("hide")})),$(document).on("sendTemporarilyKeyRequest","body",(function(e,n,a){var t=new FormData;t.append("temporarily_key",n),t.append("user_id",a),$.ajax({contentType:!1,processData:!1,type:"POST",url:"/api/create_user_temporarily_key",dataType:"json",data:t})}))}));